grafana:
  ingress:
    enabled: false
  grafana.ini:
    server:
      root_url: "https://model-platform.com/grafana/"
      serve_from_sub_path: true
    auth.anonymous:
      enabled: true
      org_name: Main Org.
      org_role: Viewer
  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
      labelValue: "1"
    # Disable datasource sidecar to avoid race condition at startup
    datasources:
      enabled: false
  # Direct datasource provisioning (mounted before Grafana starts)
  datasources:
    datasources.yaml:
      apiVersion: 1
      datasources:
        - name: Prometheus
          type: prometheus
          uid: prometheus
          url: http://kube-prometheus-stack-prometheus.monitoring.svc.cluster.local:9090
          access: proxy
          isDefault: true
          editable: false
